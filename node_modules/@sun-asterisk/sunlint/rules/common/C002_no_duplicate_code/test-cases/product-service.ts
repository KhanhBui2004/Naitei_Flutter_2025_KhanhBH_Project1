// âŒ VIOLATION: Monkey coding - Copy-paste calculation logic

export class ProductService {
  // Calculate price with tax for online orders
  calculateOnlinePrice(price: number, quantity: number) {
    const subtotal = price * quantity;
    const tax = subtotal * 0.1; // 10% tax
    const shipping = subtotal > 100 ? 0 : 10; // Free shipping over $100
    const discount = subtotal > 200 ? subtotal * 0.05 : 0; // 5% discount over $200
    const total = subtotal + tax + shipping - discount;

    return {
      subtotal,
      tax,
      shipping,
      discount,
      total
    };
  }

  // Calculate price with tax for store orders - SAME calculation!
  calculateStorePrice(price: number, quantity: number) {
    // DUPLICATE: Exactly same calculation logic (monkey coding!)
    const subtotal = price * quantity;
    const tax = subtotal * 0.1; // 10% tax
    const shipping = subtotal > 100 ? 0 : 10; // Free shipping over $100
    const discount = subtotal > 200 ? subtotal * 0.05 : 0; // 5% discount over $200
    const total = subtotal + tax + shipping - discount;

    return {
      subtotal,
      tax,
      shipping,
      discount,
      total
    };
  }

  // Wholesale pricing - slightly different but still copy-paste
  calculateWholesalePrice(price: number, quantity: number) {
    const subtotal = price * quantity;
    const tax = subtotal * 0.1; // 10% tax
    const shipping = subtotal > 100 ? 0 : 10; // Free shipping over $100
    const discount = subtotal > 200 ? subtotal * 0.05 : 0; // 5% discount over $200
    const wholesaleDiscount = quantity > 50 ? subtotal * 0.1 : 0; // Extra 10% for bulk
    const total = subtotal + tax + shipping - discount - wholesaleDiscount;

    return {
      subtotal,
      tax,
      shipping,
      discount,
      wholesaleDiscount,
      total
    };
  }
}
