// ‚ùå VIOLATION: Monkey coding - Copy-paste entire functions

export class UserService {
  // Function 1: Process user payment
  async processUserPayment(userId: number, amount: number) {
    const user = await this.getUserData(userId);

    if (amount <= 0) {
      throw new Error('Invalid payment amount');
    }

    const fee = amount * 0.029 + 0.30; // Stripe fee
    const total = amount + fee;

    const result = await this.chargeCard(user.cardId, total);

    if (!result.success) {
      throw new Error('Payment failed');
    }

    await this.recordTransaction(userId, total, 'payment');
    return { success: true, transactionId: result.id };
  }

  // Function 2: Process user refund - EXACT COPY-PASTE!
  async processUserRefund(userId: number, amount: number) {
    const user = await this.getUserData(userId);

    if (amount <= 0) {
      throw new Error('Invalid payment amount');
    }

    const fee = amount * 0.029 + 0.30; // Stripe fee
    const total = amount + fee;

    const result = await this.chargeCard(user.cardId, total);

    if (!result.success) {
      throw new Error('Payment failed');
    }

    await this.recordTransaction(userId, total, 'payment');
    return { success: true, transactionId: result.id };
  }

  private async getUserData(userId: number) { return {}; }
  private async chargeCard(cardId: string, amount: number) { return { success: true, id: '123' }; }
  private async recordTransaction(userId: number, amount: number, type: string) { }
}
